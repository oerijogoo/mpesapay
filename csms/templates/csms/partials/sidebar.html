<div class="bg-dark border-right" id="sidebar-wrapper">
    <div class="sidebar-heading text-center py-4">
        {% with school=SchoolSettings.objects.first %}
            {% if school.logo %}
                <img src="{{ school.logo.url }}" alt="{{ school.name }}" class="img-fluid mb-3" style="max-height: 80px;">
            {% endif %}
            <h5 class="text-white">{{ school.name }}</h5>
            <p class="text-muted small">{{ school.motto }}</p>
        {% endwith %}
    </div>
    <div class="list-group list-group-flush">
        <a href="{% url 'csms:dashboard' %}" class="list-group-item list-group-item-action bg-dark text-white">
            <i class="fas fa-tachometer-alt me-2"></i>Dashboard
        </a>

        {% if user.is_superuser or user.is_staff %}
            <!-- Administration Menu -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-cog me-2"></i>Administration
            </div>
            <a href="{% url 'csms:school_settings_update' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-school me-2"></i>School Settings
            </a>
            <a href="{% url 'csms:academic_year_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-calendar-alt me-2"></i>Academic Years
            </a>
            <a href="{% url 'csms:semester_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-calendar-week me-2"></i>Semesters
            </a>
            <a href="{% url 'csms:academic_level_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-graduation-cap me-2"></i>Academic Levels
            </a>

            <!-- Academic Menu -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-book me-2"></i>Academic
            </div>
            <a href="{% url 'csms:course_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-list-ol me-2"></i>Courses
            </a>
            <a href="{% url 'csms:subject_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-book-open me-2"></i>Subjects
            </a>
            <a href="{% url 'csms:course_subject_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-tasks me-2"></i>Course Subjects
            </a>
            <a href="{% url 'csms:grade_scale_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-chart-bar me-2"></i>Grading Scales
            </a>

            <!-- Student Management -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-users me-2"></i>Student Management
            </div>
            <a href="{% url 'csms:student_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-user-graduate me-2"></i>Students
            </a>
            <a href="{% url 'csms:enrollment_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-user-plus me-2"></i>Enrollments
            </a>
            <a href="{% url 'csms:subject_enrollment_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-clipboard-list me-2"></i>Subject Enrollments
            </a>

            <!-- Teacher Management -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-chalkboard-teacher me-2"></i>Teacher Management
            </div>
            <a href="{% url 'csms:teacher_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-user-tie me-2"></i>Teachers
            </a>
            <a href="{% url 'csms:subject_assignment_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-tasks me-2"></i>Subject Assignments
            </a>

            <!-- Examination -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-file-alt me-2"></i>Examination
            </div>
            <a href="{% url 'csms:exam_type_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-tags me-2"></i>Exam Types
            </a>
            <a href="{% url 'csms:exam_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-file-alt me-2"></i>Exams
            </a>
            <a href="{% url 'csms:mark_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-marker me-2"></i>Marks
            </a>
            <a href="{% url 'csms:student_report_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-file-pdf me-2"></i>Reports
            </a>

            <!-- Finance -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-money-bill-wave me-2"></i>Finance
            </div>
            <a href="{% url 'csms:fee_type_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-tag me-2"></i>Fee Types
            </a>
            <a href="{% url 'csms:fee_structure_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-list me-2"></i>Fee Structures
            </a>
            <a href="{% url 'csms:student_fee_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-receipt me-2"></i>Student Fees
            </a>

            <!-- Attendance -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-clipboard-check me-2"></i>Attendance
            </div>
            <a href="{% url 'csms:attendance_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-list me-2"></i>Attendance Records
            </a>

            <!-- Notices -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-bullhorn me-2"></i>Notices
            </div>
            <a href="{% url 'csms:notice_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-list me-2"></i>Notices
            </a>

            <!-- Calendar -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-calendar me-2"></i>Calendar
            </div>
            <a href="{% url 'csms:academic_calendar_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-list me-2"></i>Academic Calendar
            </a>
        {% endif %}

        {% if user.is_teacher %}
            <!-- Teacher Menu -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-chalkboard-teacher me-2"></i>Teacher
            </div>
            <a href="{% url 'csms:subject_assignment_list' %}?teacher_id={{ user.teacher.id }}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-tasks me-2"></i>My Subjects
            </a>
            <a href="{% url 'csms:mark_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-marker me-2"></i>Enter Marks
            </a>
            <a href="{% url 'csms:attendance_list' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-clipboard-check me-2"></i>Take Attendance
            </a>
        {% endif %}

        {% if user.is_student %}
            <!-- Student Menu -->
            <div class="list-group-item bg-dark text-white">
                <i class="fas fa-user-graduate me-2"></i>Student
            </div>
            <a href="{% url 'csms:student_report_list' %}?student_id={{ user.student.id }}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-file-pdf me-2"></i>My Reports
            </a>
            <a href="{% url 'csms:student_fee_list' %}?student_id={{ user.student.id }}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
                <i class="fas fa-receipt me-2"></i>My Fees
            </a>
        {% endif %}

        <!-- Profile -->
        <div class="list-group-item bg-dark text-white">
            <i class="fas fa-user me-2"></i>Profile
        </div>
        <a href="{% url 'csms:profile' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
            <i class="fas fa-user-circle me-2"></i>My Profile
        </a>
        <a href="{% url 'csms:change_password' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
            <i class="fas fa-key me-2"></i>Change Password
        </a>
        <a href="{% url 'csms:logout' %}" class="list-group-item list-group-item-action bg-dark text-white ps-5">
            <i class="fas fa-sign-out-alt me-2"></i>Logout
        </a>
    </div>
</div>